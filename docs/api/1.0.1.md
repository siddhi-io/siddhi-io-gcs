# API Docs - v1.0.1

!!! Info "Tested Siddhi Core version: *<a target="_blank" href="http://siddhi.io/en/v5.0/docs/query-guide/">5.0.2</a>*"
    It could also support other Siddhi Core minor versions.

## Sink

### google-cloud-storage *<a target="_blank" href="http://siddhi.io/en/v5.0/docs/query-guide/#sink">(Sink)</a>*
<p style="word-wrap: break-word">Sink extension which can be used to publish events to a GCS bucket.</p>
<span id="syntax" class="md-typeset" style="display: block; font-weight: bold;">Syntax</span>

```
@sink(type="google-cloud-storage", bucket.name="<STRING>", credential.path="<STRING>", versioning.enabled="<BOOL>", storage.class="<STRING>", content.type="<STRING>", bucket.acl="<STRING>", @map(...)))
```

<span id="query-parameters" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">QUERY PARAMETERS</span>
<table>
    <tr>
        <th>Name</th>
        <th style="min-width: 20em">Description</th>
        <th>Default Value</th>
        <th>Possible Data Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td style="vertical-align: top">bucket.name</td>
        <td style="vertical-align: top; word-wrap: break-word">Name of the GCS bucket</td>
        <td style="vertical-align: top"></td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">No</td>
        <td style="vertical-align: top">No</td>
    </tr>
    <tr>
        <td style="vertical-align: top">credential.path</td>
        <td style="vertical-align: top; word-wrap: break-word">Absolute path for the location of the authentication file obtained through the Google Cloud Platform Console, If not defined in the Sink configuration user can set the credential file location by setting the path as System variable with thename <code>GOOGLE_APPLICATION_CREDENTIALS</code></td>
        <td style="vertical-align: top">EMPTY_STRING</td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
    <tr>
        <td style="vertical-align: top">versioning.enabled</td>
        <td style="vertical-align: top; word-wrap: break-word">Boolean option to indicate whether the bucket should enable versioning or not</td>
        <td style="vertical-align: top">false</td>
        <td style="vertical-align: top">BOOL</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
    <tr>
        <td style="vertical-align: top">storage.class</td>
        <td style="vertical-align: top; word-wrap: break-word">Storage class of the objects that are stored in the bucket possible values are, <code>MULTI_REGIONAL</code>, <code>REGIONAL</code>, 'NEARLINE', <code>COLDLINE</code></td>
        <td style="vertical-align: top"></td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">No</td>
        <td style="vertical-align: top">No</td>
    </tr>
    <tr>
        <td style="vertical-align: top">content.type</td>
        <td style="vertical-align: top; word-wrap: break-word">Type of the objects written to the bucket</td>
        <td style="vertical-align: top">text/plain</td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
    <tr>
        <td style="vertical-align: top">bucket.acl</td>
        <td style="vertical-align: top; word-wrap: break-word">Access Control List for the bucket level ACL defined as a key value pair list defined as "'&lt;key&gt;:&lt;value&gt;','&lt;key&gt;:&lt;value&gt;'"</td>
        <td style="vertical-align: top">EMPTY_STRING</td>
        <td style="vertical-align: top">STRING</td>
        <td style="vertical-align: top">Yes</td>
        <td style="vertical-align: top">No</td>
    </tr>
</table>

<span id="examples" class="md-typeset" style="display: block; font-weight: bold;">Examples</span>
<span id="example-1" class="md-typeset" style="display: block; color: rgba(0, 0, 0, 0.54); font-size: 12.8px; font-weight: bold;">EXAMPLE 1</span>
```
@sink(type='google-cloud-storage', credential.path='<auth.file.path>', bucket.name='<bucket.name>', object.name='test-object-{{suffix}}',  @map(type='text') ) 
define stream outputStream(key string, payload string, suffix string);
```
<p style="word-wrap: break-word">Above example demonstrate how an GCS sink is getting configured in order to publish messages to a GCS Bucket.<br>Once an event is received by outStream, an text file will be generated by 'text' mapper from the attribute values of the event. GCS sink will connect to the bucket using provided configurations and upload the object to the bucket.<br></p>

